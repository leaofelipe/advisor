---
description: CSS and styling standards, Base UI usage, design tokens
globs: "*.{css,jsx}"
alwaysApply: false
---

## Stack

- Plain CSS with CSS Modules (`.module.css`) for component-scoped styles
- CSS custom properties (tokens) in `src/styles/tokens.css` for design system values
- Base UI (`@base-ui/react`) for headless accessible components (Dialog, Menu, Popover, etc.)
- No Sass, Less, or other preprocessors
- No inline styles unless required for dynamic values (e.g. layout animations)

## Base UI

- Single package: `import { Menu } from '@base-ui/react/menu'` (or Dialog, Popover, Select, etc.)
- Headless -- no provider or theme wrapper required
- Style via CSS Modules + project tokens + `[data-*]` attribute selectors (e.g. `[data-popup-open]`, `[data-highlighted]`, `[data-checked]`)
- Compound component pattern: `Component.Root`, `Component.Trigger`, `Component.Popup`, etc.
- Wrap Base UI components in `src/components/ui/` with CSS Modules for consistent styling
- Each wrapper in its own folder with `.jsx` and `.module.css`; use `:global()` for portal/overlay elements

## Structure

```
src/
├── components/ui/     # Base UI wrappers styled with CSS Modules
├── styles/
│   ├── index.css     # Entry -- normalize, tokens, global
│   ├── tokens.css    # Project tokens (colors, spacing, typography, radii, animation)
│   └── global.css    # Global element styles
```

## Conventions

- Use CSS Modules (`ComponentName.module.css`) for component-specific styles
- Reference tokens via `var(--token-name)` -- never hardcode colors, spacing, or typography values
- Use native CSS nesting where supported (modern browsers)
- For third-party overrides, use `:global()` inside the module

## Typography

Two font families are available via tokens:

- `--font-family-display` (`JetBrains Mono`) — use for display, headlines, and titles (H1–H6, hero numbers, card titles)
- `--font-family-body` (`DM Sans`) — use for body text, labels, buttons, inputs, captions, and navigation

Never hardcode `font-family` values in component CSS. Always reference the tokens.

Font size tokens follow a role-based naming:

- Display/headline/title sizes: `--font-size-display-{lg|md|sm}`, `--font-size-headline-{lg|md|sm}`, `--font-size-title-{lg|md|sm}`
- Body/label sizes: `--font-size-body-{lg|md|sm}`, `--font-size-label-{lg|md|sm}`

## Token Usage

```css
/* Good */
.button {
  background: var(--color-primary);
  color: var(--color-on-primary);
  font-family: var(--font-family-body);
  font-size: var(--font-size-label-lg);
  padding: var(--spacing-sm) var(--spacing-md);
  border-radius: var(--radius-md);
}

/* Bad */
.button {
  background: #3b82f6;
  color: #fff;
  font-family: 'DM Sans', sans-serif;
  padding: 8px 16px;
  border-radius: 4px;
}
```

Always pair a filled background color with its on-color for text/icons:

```css
/* Good — on-color token over filled background */
.badge {
  background: var(--color-error);
  color: var(--color-on-error);
}

/* Bad — hardcoded white */
.badge {
  background: var(--color-error);
  color: #fff;
}
```
